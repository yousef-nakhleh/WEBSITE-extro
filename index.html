<!doctype html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Extro Parrucchieri Milano - Diamo Forma alle Emozioni</title>
    <meta name="description" content="Extro Parrucchieri Milano - Diamo forma alle emozioni. Tagli, colori e trattamenti specializzati con prodotti di alta qualitÃ .">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>

    <!-- Voiceflow widget embed + trigger injection -->
    <script type="text/javascript">
      (function(d, t) {
        var v = d.createElement(t), s = d.getElementsByTagName(t)[0];
        v.onload = function() {
          window.voiceflow.chat.load({
            verify: { projectID: '68893c3cd03afd0f032a7f72' },
            url: 'https://general-runtime.voiceflow.com',
            versionID: 'production',
            voice: { url: 'https://runtime-api.voiceflow.com' }
          });

          // Listen for the custom event dispatched by your React HomePage
          window.addEventListener('VF_SCROLL_50_HOME', function(e) {
            var detail = (e && e.detail) || {};
            var chat = window.voiceflow && window.voiceflow.chat;
            if (!chat) return;

            // Send as a named event to Voiceflow
            if (typeof chat.sendEvent === 'function') {
              chat.sendEvent({
                type: 'event',
                payload: { name: 'scroll_50_home', ...detail }
              });
            }

            // Also store values as variables for Studio conditions
            if (typeof chat.setVariable === 'function') {
              if (detail.scrollDepth != null) chat.setVariable('scroll_depth', detail.scrollDepth);
              chat.setVariable('page', detail.page || 'home');
              if (detail.path) chat.setVariable('path', detail.path);
            }
          });
        };
        v.src = 'https://cdn.voiceflow.com/widget-next/bundle.mjs';
        v.type = 'text/javascript';
        s.parentNode.insertBefore(v, s);
      })(document, 'script');
    </script>
  </body>
</html>